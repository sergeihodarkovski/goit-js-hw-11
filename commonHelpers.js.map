{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '44648929-0a3ca09e28beb33e491a22410';\n\nexport function fetchImages(searchTerm) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    searchTerm\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data.hits.map(image => ({\n        webformatURL: image.webformatURL,\n        largeImageURL: image.largeImageURL,\n        tags: image.tags,\n        likes: image.likes,\n        views: image.views,\n        comments: image.comments,\n        downloads: image.downloads,\n      }));\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","export function createImageCard(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      <div class=\"info\">\n        <p><strong>Likes:</strong> ${image.likes}</p>\n        <p><strong>Views:</strong> ${image.views}</p>\n        <p><strong>Comments:</strong> ${image.comments}</p>\n        <p><strong>Downloads:</strong> ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery[data-gallery]');\n  gallery.innerHTML = images.map(createImageCard).join('');\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions.js';\n\nconst form = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst gallery = document.getElementById('gallery');\nconst loadingIndicator = document.getElementById('loading-indicator');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchTerm = searchInput.value.trim();\n\n  if (searchTerm === '') {\n    iziToast.error({\n      message: 'Пожалуйста, введите ключевое слово для поиска.',\n    });\n    return;\n  }\n\n  clearGallery(gallery);\n  showLoadingIndicator();\n\n  fetchImages(searchTerm)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.info({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderGallery(gallery, images);\n        initializeLightbox();\n      }\n    })\n    .catch(error => {\n      console.error('Ошибка при загрузке изображений:', error);\n      iziToast.error({\n        message:\n          'Не удалось загрузить изображения. Пожалуйста, попробуйте позже.',\n      });\n    })\n    .finally(() => {\n      hideLoadingIndicator();\n    });\n});\n\nfunction showLoadingIndicator() {\n  loadingIndicator.classList.remove('hidden');\n}\n\nfunction hideLoadingIndicator() {\n  loadingIndicator.classList.add('hidden');\n}\n\nfunction initializeLightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', {});\n  lightbox.refresh();\n}\n"],"names":["API_KEY","fetchImages","searchTerm","url","response","data","image","error","createImageCard","renderGallery","images","gallery","clearGallery","form","searchInput","loadingIndicator","event","iziToast","showLoadingIndicator","initializeLightbox","hideLoadingIndicator","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAY,CACtC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBACvDE,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,EAAK,KAAK,IAAIC,IAAU,CAC7B,aAAcA,EAAM,aACpB,cAAeA,EAAM,cACrB,KAAMA,EAAM,KACZ,MAAOA,EAAM,MACb,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,UAAWA,EAAM,SAClB,EAAC,CACH,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CC7BO,SAASC,EAAgBF,EAAO,CACrC,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,qCAEnBA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIxD,CAEO,SAASG,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,wBAAwB,EAC/DA,EAAQ,UAAYD,EAAO,IAAIF,CAAe,EAAE,KAAK,EAAE,CACzD,CAEO,SAASI,EAAaD,EAAS,CACpCA,EAAQ,UAAY,EACtB,CCdA,MAAME,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAc,SAAS,eAAe,cAAc,EACpDH,EAAU,SAAS,eAAe,SAAS,EAC3CI,EAAmB,SAAS,eAAe,mBAAmB,EAEpEF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMd,EAAaY,EAAY,MAAM,KAAI,EAEzC,GAAIZ,IAAe,GAAI,CACrBe,EAAS,MAAM,CACb,QAAS,gDACf,CAAK,EACD,MACD,CAEDL,EAAaD,CAAO,EACpBO,IAEAjB,EAAYC,CAAU,EACnB,KAAKQ,GAAU,CACVA,EAAO,SAAW,EACpBO,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,GAEDR,EAAcE,CAAe,EAC7BQ,IAER,CAAK,EACA,MAAMZ,GAAS,CACd,QAAQ,MAAM,mCAAoCA,CAAK,EACvDU,EAAS,MAAM,CACb,QACE,iEACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbG,GACN,CAAK,CACL,CAAC,EAED,SAASF,GAAuB,CAC9BH,EAAiB,UAAU,OAAO,QAAQ,CAC5C,CAEA,SAASK,GAAuB,CAC9BL,EAAiB,UAAU,IAAI,QAAQ,CACzC,CAEA,SAASI,GAAqB,CACX,IAAIE,EAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CAClB"}